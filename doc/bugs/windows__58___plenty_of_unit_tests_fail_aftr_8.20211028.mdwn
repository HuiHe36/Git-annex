### Please describe the problem.

I ran the unit tests of 8.20211029-g0983abf59 on Windows and unfortunately got loads of errors.
The last time I built git-annex was the release version tagged 8.20211028 whose tests gave it
a clean bill of health. I was going to assess what the changes with the long-running `filter-process`
functionality would entail on Windows, but alas, no such luck yet.

Update: The unit tests fail also under an Ubuntu 18.04 (x86_64) virtual machine (in VMware Player)
with an almost identical pattern. For some reason `QuickCheck` and `Remote Tests` are still fine.

### What steps will reproduce the problem?

`stack setup && stack build`. Then copy git-annex(.exe) to `C:\annx` (`~/annx` under Ubuntu) and in (Git) Bash say:
```
./git-annex.exe test -p 'Unit Tests' 2>&1 | tee git-annex.test--p-Unit_Tests.LOG~102
```
Observe a lot of errors.

`test -p QuickCheck` was fine.

Also under Ubuntu 18.04: Both `test -p QuickCheck` and `test -p '/testremote type/'` were fine.

### What version of git-annex are you using? On what operating system?

[[!format sh """
git-annex version: 8.20211029-g0983abf59
build flags: Assistant Webapp Pairing TorrentParser Feeds Testsuite S3 WebDAV
dependency versions: aws-0.22 bloomfilter-2.0.1.0 cryptonite-0.29 DAV-1.3.4 feed-1.3.2.0 ghc-8.10.7 http-client-0.7.9 persistent-sqlite-2.13.0.3 torrent-10000.1.1 uuid-1.3.15 yesod-1.6.1.2
key/value backends: SHA256E SHA256 SHA512E SHA512 SHA224E SHA224 SHA384E SHA384 SHA3_256E SHA3_256 SHA3_512E SHA3_512 SHA3_224E SHA3_224 SHA3_384E SHA3_384 SKEIN256E SKEIN256 SKEIN512E SKEIN512 BLAKE2B256E BLAKE2B256 BLAKE2B512E BLAKE2B512 BLAKE2B160E BLAKE2B160 BLAKE2B224E BLAKE2B224 BLAKE2B384E BLAKE2B384 BLAKE2BP512E BLAKE2BP512 BLAKE2S256E BLAKE2S256 BLAKE2S160E BLAKE2S160 BLAKE2S224E BLAKE2S224 BLAKE2SP256E BLAKE2SP256 BLAKE2SP224E BLAKE2SP224 SHA1E SHA1 MD5E MD5 WORM URL X*
remote types: git gcrypt p2p S3 bup directory rsync web bittorrent webdav adb tahoe glacier ddar git-lfs httpalso borg hook external
operating system: mingw32 x86_64
supported repository versions: 8
upgrade supported from repository versions: 2 3 4 5 6 7
"""]]

Windows version 21H1 (build 19043.1288), 64 bit.

Also: Ubuntu 18.04, x86_64.

### Please provide any additional information below.

_Under Windows:_

[[!format sh """
jkniiv@AINESIS MINGW64 /c/annx
$ ./git-annex.exe test -p 'Unit Tests' 2>&1 | tee git-annex.test--p-Unit_Tests.LOG~102
[...]
jkniiv@AINESIS MINGW64 /c/annx
$ cat git-annex.test--p-Unit_Tests.LOG~102
Tests
  Unit Tests v8 adjusted unlocked branch
    add dup:                                              Init Tests
  init: OK (3.60s)
  add:  OK (5.49s)

All 2 tests passed (9.09s)
FAIL (5.07s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/add dup/' to rerun this test only.
    add extras:                                           OK (4.99s)
    readonly:                                             OK
    ignore deleted files:                                 FAIL (4.92s)
      .\\Test\\Framework.hs:90:
      unexpected value running find [] -- got: [] expected: ["foo"]
      Use -p '/Unit Tests/&&/ignore deleted files/' to rerun this test only.
    metadata:                                             FAIL (7.86s)
      .\\Test\\Framework.hs:90:
      unexpected value running find ["--metadata","foo=bar"] -- got: ["foodup"] expected: ["foo","foodup"]
      Use -p '/Unit Tests/&&/metadata/' to rerun this test only.
    export_import:                                        FAIL (6.09s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.export_import"' to rerun this test only.
    export_import_subdir:                                 FAIL (6.10s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/export_import_subdir/' to rerun this test only.
    shared clone:                                         OK (3.82s)
    log:                                                  OK (4.18s)
    view:                                                 OK (6.46s)
    magic:                                                OK (3.63s)
    import:                                               OK (11.33s)
    reinject:                                             FAIL (5.07s)
      .\\Test\\Framework.hs:345:
      sha1foo failed to look up key
      Use -p '/Unit Tests/&&/reinject/' to rerun this test only.
    unannex (no copy):                                    OK (4.77s)
    unannex (with copy):                                  FAIL (4.76s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/unannex (with copy)/' to rerun this test only.
    drop (no remote):                                     FAIL (4.99s)
      .\\Test\\Framework.hs:57:
      drop with no known copy of file not allowed failed (transcript follows)

      Use -p '/Unit Tests/&&/drop (no remote)/' to rerun this test only.
    drop (with remote):                                   FAIL (5.41s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/drop (with remote)/' to rerun this test only.
    drop (untrusted remote):                              FAIL (5.49s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/drop (untrusted remote)/' to rerun this test only.
    get:                                                  FAIL (5.78s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.get"' to rerun this test only.
    get (ssh remote):                                     OK
    move:                                                 FAIL (6.67s)
      .\\Test\\Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.move"' to rerun this test only.
    move (ssh remote):                                    OK
    move (numcopies):                                     FAIL (3.61s)
      .\\Test\\Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/move (numcopies)/' to rerun this test only.
    copy:                                                 FAIL (4.07s)
      .\\Test\\Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.copy/' to rerun this test only.
    lock:                                                 FAIL (6.19s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.lock"' to rerun this test only.
    lock --force:                                         FAIL (4.39s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/lock --force/' to rerun this test only.
    edit (no pre-commit):                                 FAIL (4.16s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/edit (no pre-commit)/' to rerun this test only.
    edit (pre-commit):                                    FAIL (4.20s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/edit (pre-commit)/' to rerun this test only.
    partial commit:                                       FAIL (4.17s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/partial commit/' to rerun this test only.
    fix:                                                  OK (3.63s)
    trust:                                                OK (11.79s)
    fsck (basics):                                        FAIL (5.28s)
      .\\Test\\Framework.hs:57:
      fsck failed (transcript follows)
      fsck foo
      failed
      fsck sha1foo ok
      (recording state in git...)
        ** No known copies exist of foo
      fsck: 1 failed

      Use -p '/Unit Tests/&&/fsck (basics)/' to rerun this test only.
    fsck (bare):                                          FAIL (2.58s)
      .\\Test\\Framework.hs:57:
      fsck failed (transcript follows)
      fsck SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77

        (Avoid this check by running: git annex dead --key )
      failed
      fsck SHA1-s25--ee80d2cec57a3810db83b80e1b320df3a3721ffa ok
      (recording state in git...)
        ** No known copies exist of SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77
      fsck: 1 failed

      Use -p '/Unit Tests/&&/fsck (bare)/' to rerun this test only.
    fsck (local untrusted):                               FAIL (4.26s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/fsck (local untrusted)/' to rerun this test only.
    fsck (remote untrusted):                              FAIL (4.65s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/fsck (remote untrusted)/' to rerun this test only.
    fsck --from remote:                                   FAIL (4.54s)
      .\\Test\\Framework.hs:57:
      fsck --from origin failed (transcript follows)
      fsck foo
      failed
      fsck sha1foo
ok
      (recording state in git...)
        ** No known copies exist of foo
      fsck: 1 failed

      Use -p '/Unit Tests/&&/fsck --from remote/' to rerun this test only.
    conversion git to annexed:                            OK (6.49s)
    conversion annexed to git:                            FAIL (4.28s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/conversion annexed to git/' to rerun this test only.
    migrate:                                              FAIL (5.36s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.migrate"' to rerun this test only.
    migrate (via gitattributes):                          FAIL (5.43s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/migrate (via gitattributes)/' to rerun this test only.
    unused:                                               FAIL (4.28s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/unused/' to rerun this test only.
    describe:                                             OK (4.68s)
    find:                                                 FAIL (4.94s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/find/' to rerun this test only.
    merge:                                                OK (4.38s)
    info:                                                 OK (3.99s)
    version:                                              OK (3.70s)
    sync:                                                 FAIL (9.80s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.sync/' to rerun this test only.
    concurrent get of dup key regression:                 FAIL (4.46s)
      .\\Test\\Framework.hs:57:
      concurrent get -J1 with dup failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get foo2 (not available)
        No other repository is known to contain the file.
      failed
      get: 2 failed

      Use -p '/Unit Tests/&&/concurrent get of dup key regression/' to rerun this test only.
    union merge regression:                               FAIL (12.25s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/union merge regression/' to rerun this test only.
    adjusted branch merge regression:                     OK (7.55s)
    adjusted branch subtree regression:                   OK (13.21s)
    conflict resolution:                                  FAIL (31.85s)
      .\\Test\\Framework.hs:90:
      unexpected value running find ["conflictor.variant-a507","conflictor.variant-75dc"] -- got: [] expected: ["conflictor.variant-a507","conflictor.variant-75dc"]
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.conflict resolution"' to rerun this test only.
    conflict resolution (adjusted branch):                FAIL (32.35s)
      .\\Test\\Framework.hs:90:
      unexpected value running find ["conflictor.variant-a507","conflictor.variant-75dc"] -- got: [] expected: ["conflictor.variant-a507","conflictor.variant-75dc"]
      Use -p '/Unit Tests/&&/conflict resolution (adjusted branch)/' to rerun this test only.
    conflict resolution movein regression:                FAIL (8.76s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...)
ok
      (recording state in git...)
      get: 1 failed

      Use -p '/Unit Tests/&&/conflict resolution movein regression/' to rerun this test only.
    conflict resolution (mixed directory and file):       FAIL (26.82s)
      .\\Test\\Framework.hs:90:
      unexpected value running find ["conflictor"] -- got: [] expected: ["conflictor/subfile"]
      Use -p '/Unit Tests/&&/conflict resolution (mixed directory and file)/' to rerun this test only.
    conflict resolution symlink bit:                      OK
    conflict resolution (uncommitted local file):         OK (38.69s)
    conflict resolution (removed file):                   OK (75.56s)
    conflict resolution (nonannexed file):                OK (50.67s)
    conflict resolution (nonannexed symlink):             OK (15.13s)
    conflict resolution (mixed locked and unlocked file): OK (34.19s)
    map:                                                  OK (11.06s)
    uninit:                                               FAIL (5.18s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...)
ok
      (recording state in git...)
      get: 1 failed

      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.uninit"' to rerun this test only.
    uninit (in git-annex branch):                         OK (8.46s)
    upgrade:                                              OK (6.81s)
    whereis:                                              FAIL (4.95s)
      .\\Test\\Framework.hs:57:
      whereis on non-present file failed (transcript follows)
      whereis foo (0 copies) failed
      whereis: 1 failed

      Use -p '/Unit Tests/&&/whereis/' to rerun this test only.
    hook remote:                                          OK (5.00s)
    directory remote:                                     FAIL (6.37s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/directory remote/' to rerun this test only.
    rsync remote:                                         OK (4.30s)
    bup remote:                                           OK (4.35s)
    borg remote:                                          gpg testing not implemented on Windows
FAIL (19.19s)
      .\\Test\\Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/borg remote/' to rerun this test only.
    crypto:                                               OK
    preferred content:                                    FAIL (5.39s)
      .\\Test\\Framework.hs:57:
      get --auto of file with default preferred content failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/preferred content/' to rerun this test only.
    required_content:                                     FAIL (4.14s)
      .\\Test\\Framework.hs:57:
      get failed (transcript follows)
      get foo (not available)
        No other repository is known to contain the file.
      failed
      get: 1 failed

      Use -p '/Unit Tests/&&/required_content/' to rerun this test only.
    add subdirs:                                          OK (6.82s)
    addurl:                                               OK (6.39s)

42 out of 76 tests failed (691.50s)
  (Failures above could be due to a bug in git-annex, or an incompatibility
   with utilities, such as git, installed on this system.)

# End of transcript or log.
"""]]

_Under Ubuntu 18.04:_

[[!format sh """
jkniiv@jkniiv-Virtual:~/annx$ ./git-annex test -p '/Unit Tests/' 2>&1 | tee git-annex.test--p-_Unit_Tests_.LOG~102
jkniiv@jkniiv-Virtual:~/annx$ cat git-annex.test--p-_Unit_Tests_.LOG~102 
Init Tests
  init: Tests
  Unit Tests v8 adjusted unlocked branch
    add dup:                                              OK (0.67s)
  add:  OK (1.08s)

All 2 tests passed (1.79s)
FAIL (1.24s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.add dup/' to rerun this test only.
    add extras:                                           OK (1.43s)
    readonly:                                             OK (3.23s)
    ignore deleted files:                                 FAIL (1.09s)
      ./Test/Framework.hs:90:
      unexpected value running find [] -- got: [] expected: ["foo"]
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.ignore deleted files/' to rerun this test only.
    metadata:                                             FAIL (1.62s)
      ./Test/Framework.hs:90:
      unexpected value running find ["--metadata","foo=bar"] -- got: ["foodup"] expected: ["foo","foodup"]
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.metadata/' to rerun this test only.
    export_import:                                        FAIL (1.00s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.export_import"' to rerun this test only.
    export_import_subdir:                                 FAIL (1.08s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.export_import_subdir/' to rerun this test only.
    shared clone:                                         OK (0.80s)
    log:                                                  OK (0.77s)
    view:                                                 OK (1.40s)
    magic:                                                OK (0.79s)
    import:                                               OK (2.23s)
    reinject:                                             FAIL (1.04s)
      ./Test/Framework.hs:345:
      sha1foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.reinject/' to rerun this test only.
    unannex (no copy):                                    OK (1.00s)
    unannex (with copy):                                  FAIL (1.20s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.unannex (with copy)/' to rerun this test only.
    drop (no remote):                                     FAIL (0.94s)
      ./Test/Framework.hs:57:
      drop with no known copy of file not allowed failed (transcript follows)
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.drop (no remote)/' to rerun this test only.
    drop (with remote):                                   FAIL (1.01s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.drop (with remote)/' to rerun this test only.
    drop (untrusted remote):                              FAIL (1.16s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.drop (untrusted remote)/' to rerun this test only.
    get:                                                  FAIL (1.16s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.get"' to rerun this test only.
    get (ssh remote):                                     FAIL (1.73s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.get (ssh remote)/' to rerun this test only.
    move:                                                 FAIL (1.26s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.move"' to rerun this test only.
    move (ssh remote):                                    FAIL (0.86s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.move (ssh remote)/' to rerun this test only.
    move (numcopies):                                     FAIL (0.86s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.move (numcopies)/' to rerun this test only.
    copy:                                                 FAIL (0.79s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.copy/' to rerun this test only.
    lock:                                                 FAIL (1.40s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.lock"' to rerun this test only.
    lock --force:                                         FAIL (0.98s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.lock --force/' to rerun this test only.
    edit (no pre-commit):                                 FAIL (0.88s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.edit (no pre-commit)/' to rerun this test only.
    edit (pre-commit):                                    FAIL (0.88s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.edit (pre-commit)/' to rerun this test only.
    partial commit:                                       FAIL (0.98s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.partial commit/' to rerun this test only.
    fix:                                                  OK (0.80s)
    trust:                                                OK (2.17s)
    fsck (basics):                                        FAIL (0.95s)
      ./Test/Framework.hs:57:
      fsck failed (transcript follows)
      fsck foo 
        ** No known copies exist of foo
      failed
      fsck sha1foo ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.fsck (basics)/' to rerun this test only.
    fsck (bare):                                          FAIL (0.48s)
      ./Test/Framework.hs:57:
      fsck failed (transcript follows)
      fsck SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77 
        ** No known copies exist of SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77
      
        (Avoid this check by running: git annex dead --key )
      failed
      fsck SHA1-s25--ee80d2cec57a3810db83b80e1b320df3a3721ffa ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.fsck (bare)/' to rerun this test only.
    fsck (local untrusted):                               FAIL (0.96s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.fsck (local untrusted)/' to rerun this test only.
    fsck (remote untrusted):                              FAIL (1.08s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.fsck (remote untrusted)/' to rerun this test only.
    fsck --from remote:                                   FAIL (0.94s)
      ./Test/Framework.hs:57:
      fsck --from origin failed (transcript follows)
      fsck foo 
        ** No known copies exist of foo
      failed
      fsck sha1foo (checksum...) ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.fsck --from remote/' to rerun this test only.
    conversion git to annexed:                            OK (1.62s)
    conversion annexed to git:                            FAIL (0.91s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.conversion annexed to git/' to rerun this test only.
    migrate:                                              FAIL (1.15s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.migrate"' to rerun this test only.
    migrate (via gitattributes):                          FAIL (1.26s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.migrate (via gitattributes)/' to rerun this test only.
    unused:                                               FAIL (0.98s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.unused/' to rerun this test only.
    describe:                                             OK (1.09s)
    find:                                                 FAIL (1.12s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.find/' to rerun this test only.
    merge:                                                OK (0.99s)
    info:                                                 OK (1.00s)
    version:                                              OK (0.93s)
    sync:                                                 FAIL (1.73s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.sync/' to rerun this test only.
    concurrent get of dup key regression:                 FAIL (1.18s)
      ./Test/Framework.hs:57:
      concurrent get -J1 with dup failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get foo2 (not available) 
        No other repository is known to contain the file.
      failed
      get: 2 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.concurrent get of dup key regression/' to rerun this test only.
    union merge regression:                               FAIL (2.66s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.union merge regression/' to rerun this test only.
    adjusted branch merge regression:                     OK (6.19s)
    adjusted branch subtree regression:                   OK (2.39s)
    conflict resolution:                                  FAIL (7.01s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor.variant-75dc","conflictor.variant-a507"] -- got: [] expected: ["conflictor.variant-75dc","conflictor.variant-a507"]
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.conflict resolution"' to rerun this test only.
    conflict resolution (adjusted branch):                FAIL (6.66s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor.variant-75dc","conflictor.variant-a507"] -- got: [] expected: ["conflictor.variant-75dc","conflictor.variant-a507"]
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.conflict resolution (adjusted branch)/' to rerun this test only.
    conflict resolution movein regression:                FAIL (1.97s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...) 
ok                                
      (recording state in git...)
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.conflict resolution movein regression/' to rerun this test only.
    conflict resolution (mixed directory and file):       FAIL (5.76s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor"] -- got: [] expected: ["conflictor/subfile"]
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.conflict resolution (mixed directory and file)/' to rerun this test only.
    conflict resolution symlink bit:                      OK
    conflict resolution (uncommitted local file):         OK (7.83s)
    conflict resolution (removed file):                   OK (13.70s)
    conflict resolution (nonannexed file):                OK (10.76s)
    conflict resolution (nonannexed symlink):             OK (9.80s)
    conflict resolution (mixed locked and unlocked file): OK (5.88s)
    map:                                                  OK (1.15s)
    uninit:                                               FAIL (1.01s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...) 
ok                                
      (recording state in git...)
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 adjusted unlocked branch.uninit"' to rerun this test only.
    uninit (in git-annex branch):                         OK (1.18s)
    upgrade:                                              OK (0.89s)
    whereis:                                              FAIL (0.95s)
      ./Test/Framework.hs:57:
      whereis on non-present file failed (transcript follows)
      whereis foo (0 copies) failed
      whereis: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.whereis/' to rerun this test only.
    hook remote:                                          FAIL (1.21s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.hook remote/' to rerun this test only.
    directory remote:                                     FAIL (1.13s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.directory remote/' to rerun this test only.
    rsync remote:                                         FAIL (1.09s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.rsync remote/' to rerun this test only.
    bup remote:                                           OK (0.84s)
    borg remote:                                          FAIL (5.88s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.borg remote/' to rerun this test only.
    crypto:                                               FAIL (1.78s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.crypto/' to rerun this test only.
    preferred content:                                    FAIL (0.99s)
      ./Test/Framework.hs:57:
      get --auto of file with default preferred content failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.preferred content/' to rerun this test only.
    required_content:                                     FAIL (0.98s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 adjusted unlocked branch.required_content/' to rerun this test only.
    add subdirs:                                          OK (1.88s)
    addurl:                                               OK (1.70s)
  Unit Tests v8 unlocked
    add dup:                                              Init Tests
  init: OK (0.35s)
  add:  OK (1.36s)

All 2 tests passed (1.71s)
OK (0.78s)
    add extras:                                           OK (1.76s)
    readonly:                                             OK (2.21s)
    ignore deleted files:                                 FAIL (0.79s)
      ./Test/Framework.hs:90:
      unexpected value running find [] -- got: [] expected: ["foo"]
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.ignore deleted files/' to rerun this test only.
    metadata:                                             OK (1.56s)
    export_import:                                        FAIL (0.80s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.export_import"' to rerun this test only.
    export_import_subdir:                                 FAIL (0.82s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.export_import_subdir/' to rerun this test only.
    shared clone:                                         OK (0.52s)
    log:                                                  OK (0.56s)
    view:                                                 OK (1.13s)
    magic:                                                OK (0.41s)
    import:                                               OK (2.08s)
    reinject:                                             FAIL (0.67s)
      ./Test/Framework.hs:345:
      sha1foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.reinject/' to rerun this test only.
    unannex (no copy):                                    OK (0.55s)
    unannex (with copy):                                  FAIL (0.68s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.unannex (with copy)/' to rerun this test only.
    drop (no remote):                                     FAIL (0.73s)
      ./Test/Framework.hs:57:
      drop with no known copy of file not allowed failed (transcript follows)
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.drop (no remote)/' to rerun this test only.
    drop (with remote):                                   FAIL (0.67s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.drop (with remote)/' to rerun this test only.
    drop (untrusted remote):                              FAIL (0.73s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.drop (untrusted remote)/' to rerun this test only.
    get:                                                  FAIL (0.83s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.get"' to rerun this test only.
    get (ssh remote):                                     FAIL (1.10s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.get (ssh remote)/' to rerun this test only.
    move:                                                 FAIL (0.84s)
      ./Test/Framework.hs:345:
      foo failed to look up key
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.move"' to rerun this test only.
    move (ssh remote):                                    FAIL (0.51s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.move (ssh remote)/' to rerun this test only.
    move (numcopies):                                     FAIL (0.43s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.move (numcopies)/' to rerun this test only.
    copy:                                                 FAIL (0.51s)
      ./Test/Framework.hs:307:
      checkcontent foo
      expected: "annexed file content"
       but got: "/annex/objects/SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77\n"
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.copy/' to rerun this test only.
    lock:                                                 FAIL (1.20s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.lock"' to rerun this test only.
    lock --force:                                         FAIL (0.54s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.lock --force/' to rerun this test only.
    edit (no pre-commit):                                 FAIL (0.54s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.edit (no pre-commit)/' to rerun this test only.
    edit (pre-commit):                                    FAIL (0.61s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.edit (pre-commit)/' to rerun this test only.
    partial commit:                                       FAIL (0.54s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.partial commit/' to rerun this test only.
    fix:                                                  OK (0.47s)
    trust:                                                OK (1.70s)
    fsck (basics):                                        FAIL (0.63s)
      ./Test/Framework.hs:57:
      fsck failed (transcript follows)
      fsck foo 
        ** No known copies exist of foo
      failed
      fsck sha1foo ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.fsck (basics)/' to rerun this test only.
    fsck (bare):                                          FAIL (0.50s)
      ./Test/Framework.hs:57:
      fsck failed (transcript follows)
      fsck SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77 
        ** No known copies exist of SHA256E-s20--e394a389d787383843decc5d3d99b6d184ffa5fddeec23b911f9ee7fc8b9ea77
      
        (Avoid this check by running: git annex dead --key )
      failed
      fsck SHA1-s25--ee80d2cec57a3810db83b80e1b320df3a3721ffa ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.fsck (bare)/' to rerun this test only.
    fsck (local untrusted):                               FAIL (0.52s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.fsck (local untrusted)/' to rerun this test only.
    fsck (remote untrusted):                              FAIL (0.79s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.fsck (remote untrusted)/' to rerun this test only.
    fsck --from remote:                                   FAIL (0.63s)
      ./Test/Framework.hs:57:
      fsck --from origin failed (transcript follows)
      fsck foo 
        ** No known copies exist of foo
      failed
      fsck sha1foo (checksum...) ok
      (recording state in git...)
      fsck: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.fsck --from remote/' to rerun this test only.
    conversion git to annexed:                            OK (1.09s)
    conversion annexed to git:                            FAIL (0.55s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.conversion annexed to git/' to rerun this test only.
    migrate:                                              FAIL (0.74s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.migrate"' to rerun this test only.
    migrate (via gitattributes):                          FAIL (0.75s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.migrate (via gitattributes)/' to rerun this test only.
    unused:                                               FAIL (0.61s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.unused/' to rerun this test only.
    describe:                                             OK (0.63s)
    find:                                                 FAIL (0.65s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.find/' to rerun this test only.
    merge:                                                OK (0.52s)
    info:                                                 OK (0.57s)
    version:                                              OK (0.44s)
    sync:                                                 FAIL (1.14s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.sync/' to rerun this test only.
    concurrent get of dup key regression:                 FAIL (0.70s)
      ./Test/Framework.hs:57:
      concurrent get -J1 with dup failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get foo2 (not available) 
        No other repository is known to contain the file.
      failed
      get: 2 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.concurrent get of dup key regression/' to rerun this test only.
    union merge regression:                               FAIL (1.32s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.union merge regression/' to rerun this test only.
    adjusted branch merge regression:                     OK (4.80s)
    adjusted branch subtree regression:                   OK (2.17s)
    conflict resolution:                                  FAIL (4.18s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor.variant-75dc","conflictor.variant-a507"] -- got: ["conflictor.variant-a507"] expected: ["conflictor.variant-75dc","conflictor.variant-a507"]
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.conflict resolution"' to rerun this test only.
    conflict resolution (adjusted branch):                FAIL (4.78s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor.variant-75dc","conflictor.variant-a507"] -- got: ["conflictor.variant-a507"] expected: ["conflictor.variant-75dc","conflictor.variant-a507"]
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.conflict resolution (adjusted branch)/' to rerun this test only.
    conflict resolution movein regression:                FAIL (1.08s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...) 
ok                                
      (recording state in git...)
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.conflict resolution movein regression/' to rerun this test only.
    conflict resolution (mixed directory and file):       FAIL (4.16s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor"] -- got: [] expected: ["conflictor/subfile"]
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.conflict resolution (mixed directory and file)/' to rerun this test only.
    conflict resolution symlink bit:                      OK
    conflict resolution (uncommitted local file):         OK (4.68s)
    conflict resolution (removed file):                   OK (9.60s)
    conflict resolution (nonannexed file):                OK (6.75s)
    conflict resolution (nonannexed symlink):             OK (6.40s)
    conflict resolution (mixed locked and unlocked file): OK (4.53s)
    map:                                                  OK (0.70s)
    uninit:                                               FAIL (0.70s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get sha1foo (from origin...) 
ok                                
      (recording state in git...)
      get: 1 failed
      
      Use -p '/Unit Tests/&&$0=="Tests.Unit Tests v8 unlocked.uninit"' to rerun this test only.
    uninit (in git-annex branch):                         OK (0.75s)
    upgrade:                                              OK (0.55s)
    whereis:                                              FAIL (0.64s)
      ./Test/Framework.hs:57:
      whereis on non-present file failed (transcript follows)
      whereis foo (0 copies) failed
      whereis: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.whereis/' to rerun this test only.
    hook remote:                                          FAIL (0.77s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.hook remote/' to rerun this test only.
    directory remote:                                     FAIL (0.78s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.directory remote/' to rerun this test only.
    rsync remote:                                         FAIL (0.76s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.rsync remote/' to rerun this test only.
    bup remote:                                           OK (0.46s)
    borg remote:                                          FAIL (4.97s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.borg remote/' to rerun this test only.
    crypto:                                               FAIL (1.38s)
      ./Test/Framework.hs:57:
      get of file failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.crypto/' to rerun this test only.
    preferred content:                                    FAIL (0.67s)
      ./Test/Framework.hs:57:
      get --auto of file with default preferred content failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.preferred content/' to rerun this test only.
    required_content:                                     FAIL (0.60s)
      ./Test/Framework.hs:57:
      get failed (transcript follows)
      get foo (not available) 
        No other repository is known to contain the file.
      failed
      get: 1 failed
      
      Use -p '/Unit Tests/&&/Unit Tests v8 unlocked.required_content/' to rerun this test only.
    add subdirs:                                          OK (1.27s)
    addurl:                                               OK (1.11s)
  Unit Tests v8 locked
    add dup:                                              Init Tests
  init: OK (0.38s)
  add:  OK (1.10s)

All 2 tests passed (1.48s)
OK (0.90s)
    add extras:                                           OK (0.74s)
    readonly:                                             OK (1.86s)
    ignore deleted files:                                 OK (0.74s)
    metadata:                                             OK (1.63s)
    export_import:                                        OK (4.50s)
    export_import_subdir:                                 OK (4.97s)
    shared clone:                                         OK (0.58s)
    log:                                                  OK (0.72s)
    view:                                                 OK (2.29s)
    magic:                                                OK (0.81s)
    import:                                               OK (3.11s)
    reinject:                                             OK (1.42s)
    unannex (no copy):                                    OK (0.96s)
    unannex (with copy):                                  OK (1.66s)
    drop (no remote):                                     OK (2.17s)
    drop (with remote):                                   OK (2.03s)
    drop (untrusted remote):                              OK (1.53s)
    get:                                                  OK (1.32s)
    get (ssh remote):                                     OK (1.27s)
    move:                                                 OK (2.26s)
    move (ssh remote):                                    OK (2.91s)
    move (numcopies):                                     OK (2.08s)
    copy:                                                 OK (1.92s)
    lock:                                                 OK (2.39s)
    lock --force:                                         OK (1.54s)
    edit (no pre-commit):                                 OK (2.42s)
    edit (pre-commit):                                    OK (2.06s)
    partial commit:                                       OK (1.45s)
    fix:                                                  OK (1.19s)
    trust:                                                OK (2.03s)
    fsck (basics):                                        OK (2.43s)
    fsck (bare):                                          OK (0.51s)
    fsck (local untrusted):                               OK (1.54s)
    fsck (remote untrusted):                              OK (2.60s)
    fsck --from remote:                                   OK (1.09s)
    conversion git to annexed:                            OK (1.37s)
    conversion annexed to git:                            OK (1.42s)
    migrate:                                              OK (2.76s)
    migrate (via gitattributes):                          OK (4.50s)
    unused:                                               OK (4.25s)
    describe:                                             OK (0.73s)
    find:                                                 OK (2.72s)
    merge:                                                OK (0.53s)
    info:                                                 OK (0.69s)
    version:                                              OK (0.61s)
    sync:                                                 OK (3.13s)
    concurrent get of dup key regression:                 OK (1.82s)
    union merge regression:                               OK (6.21s)
    adjusted branch merge regression:                     OK (5.83s)
    adjusted branch subtree regression:                   OK (2.55s)
    conflict resolution:                                  OK (4.06s)
    conflict resolution (adjusted branch):                FAIL (5.47s)
      ./Test/Framework.hs:90:
      unexpected value running find ["conflictor.variant-a507","conflictor.variant-SHA256E-s11--aa299d36fd0b2f7ec1632ca3834c30c0c2f3b45749058e2611778d38a4a2b7cf.variant-75dc"] -- got: [] expected: ["conflictor.variant-a507","conflictor.variant-SHA256E-s11--aa299d36fd0b2f7ec1632ca3834c30c0c2f3b45749058e2611778d38a4a2b7cf.variant-75dc"]
      Use -p '/Unit Tests/&&/Unit Tests v8 locked.conflict resolution (adjusted branch)/' to rerun this test only.
    conflict resolution movein regression:                OK (5.06s)
    conflict resolution (mixed directory and file):       OK (7.11s)
    conflict resolution symlink bit:                      OK (4.26s)
    conflict resolution (uncommitted local file):         OK (4.28s)
    conflict resolution (removed file):                   OK (8.60s)
    conflict resolution (nonannexed file):                OK (6.14s)
    conflict resolution (nonannexed symlink):             OK (5.57s)
    conflict resolution (mixed locked and unlocked file): OK (3.84s)
    map:                                                  OK (0.80s)
    uninit:                                               OK (0.95s)
    uninit (in git-annex branch):                         OK (0.70s)
    upgrade:                                              OK (0.50s)
    whereis:                                              OK (1.34s)
    hook remote:                                          OK (2.06s)
    directory remote:                                     OK (1.86s)
    rsync remote:                                         OK (2.13s)
    bup remote:                                           OK (0.48s)
    borg remote:                                          OK (12.04s)
    crypto:                                               OK (10.56s)
    preferred content:                                    OK (3.86s)
    required_content:                                     OK (1.88s)
    add subdirs:                                          OK (1.85s)
    addurl:                                               OK (1.43s)

93 out of 228 tests failed (475.37s)
  (Failures above could be due to a bug in git-annex, or an incompatibility
   with utilities, such as git, installed on this system.)

# End of transcript or log.
"""]]

### Have you had any luck using git-annex before? (Sometimes we get tired of reading bug reports all day and a lil' positive end note does wonders)

Yeah sure, I'm a believer. :) Using it with my multigigabyte backup files just fine most of the time.
I'm also building select versions of git-annex for both Windows native and WSL1/2 use following the
development on master. A fine piece of software it definitely is.

[[!meta title="plenty of unit tests fail after 8.20211028"]]
[[!meta author=jkniiv]]

> I expect that [[!commit 837025b14f523f9180f82d0cced1e53a8a9b94de]] fixes
> this. [[done]] --[[Joey]]
